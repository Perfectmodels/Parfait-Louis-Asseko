# Structure de la Base de Donn√©es - Perfect Models Management

## üìä Vue d'ensemble

Cette documentation d√©crit la structure compl√®te de la base de donn√©es pour le syst√®me de gestion de Perfect Models Management, incluant tous les modules : talents, contenu, formation, et finances.

---

## üé≠ Module Talents

### Table: `models`
Mannequins professionnels de l'agence

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| name | STRING | Nom complet | REQUIRED |
| email | STRING | Email | REQUIRED, UNIQUE |
| phone | STRING | T√©l√©phone | |
| username | STRING | Nom d'utilisateur | UNIQUE |
| password | STRING | Mot de passe (hash√©) | |
| age | NUMBER | √Çge | |
| birthDate | DATE | Date de naissance | |
| height | NUMBER | Taille (cm) | |
| weight | NUMBER | Poids (kg) | |
| bust | NUMBER | Tour de poitrine (cm) | |
| waist | NUMBER | Tour de taille (cm) | |
| hips | NUMBER | Tour de hanches (cm) | |
| shoeSize | NUMBER | Pointure | |
| category | STRING | Cat√©gorie (Fashion/Commercial/Editorial) | |
| isPublic | BOOLEAN | Profil public | DEFAULT: true |
| photos | ARRAY[STRING] | URLs des photos | |
| portfolio | ARRAY[STRING] | URLs du portfolio | |
| experience | TEXT | Exp√©rience professionnelle | |
| createdAt | TIMESTAMP | Date de cr√©ation | AUTO |
| updatedAt | TIMESTAMP | Derni√®re mise √† jour | AUTO |

### Table: `beginner_students`
Mannequins d√©butants en formation

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| name | STRING | Nom complet | REQUIRED |
| email | STRING | Email | REQUIRED, UNIQUE |
| username | STRING | Nom d'utilisateur | UNIQUE |
| password | STRING | Mot de passe (hash√©) | |
| phone | STRING | T√©l√©phone | |
| age | NUMBER | √Çge | |
| city | STRING | Ville | |
| status | STRING | Statut (Active/Inactive/Promoted) | DEFAULT: 'Active' |
| registrationDate | DATE | Date d'inscription | AUTO |
| promotionDate | DATE | Date de promotion (si promu) | |
| completedModules | ARRAY[STRING] | IDs des modules compl√©t√©s | |
| progress | NUMBER | Pourcentage de progression (0-100) | DEFAULT: 0 |

### Table: `casting_applications`
Candidatures pour les castings

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| firstName | STRING | Pr√©nom | REQUIRED |
| lastName | STRING | Nom | REQUIRED |
| email | STRING | Email | REQUIRED |
| phone | STRING | T√©l√©phone | REQUIRED |
| birthDate | DATE | Date de naissance | REQUIRED |
| age | NUMBER | √Çge | REQUIRED |
| city | STRING | Ville | REQUIRED |
| height | NUMBER | Taille (cm) | REQUIRED |
| weight | NUMBER | Poids (kg) | REQUIRED |
| bust | NUMBER | Tour de poitrine (cm) | |
| waist | NUMBER | Tour de taille (cm) | |
| hips | NUMBER | Tour de hanches (cm) | |
| shoeSize | NUMBER | Pointure | |
| experience | TEXT | Exp√©rience | |
| motivation | TEXT | Motivation | |
| photos | ARRAY[STRING] | URLs des photos | |
| status | STRING | Statut (Nouveau/Pr√©s√©lectionn√©/Accept√©/Refus√©) | DEFAULT: 'Nouveau' |
| submissionDate | TIMESTAMP | Date de soumission | AUTO |
| notes | TEXT | Notes du jury | |

### Table: `artistic_projects`
Projets de direction artistique

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| title | STRING | Titre du projet | REQUIRED |
| description | TEXT | Description | REQUIRED |
| image | STRING | URL de l'image | |
| date | DATE | Date du projet | REQUIRED |
| category | STRING | Cat√©gorie | REQUIRED |
| assignedModels | ARRAY[STRING] | IDs des mannequins assign√©s | |
| status | STRING | Statut (Planifi√©/En cours/Termin√©) | DEFAULT: 'Planifi√©' |
| createdAt | TIMESTAMP | Date de cr√©ation | AUTO |

---

## üì∞ Module Contenu

### Table: `articles`
Articles du magazine

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| slug | STRING | Slug pour URL | REQUIRED, UNIQUE |
| title | STRING | Titre | REQUIRED |
| excerpt | TEXT | Extrait | REQUIRED |
| content | TEXT | Contenu complet (HTML/Markdown) | REQUIRED |
| author | STRING | Auteur | REQUIRED |
| category | STRING | Cat√©gorie | REQUIRED |
| tags | ARRAY[STRING] | Tags | |
| coverImage | STRING | URL de l'image de couverture | REQUIRED |
| images | ARRAY[STRING] | URLs des images suppl√©mentaires | |
| publishedAt | TIMESTAMP | Date de publication | REQUIRED |
| updatedAt | TIMESTAMP | Derni√®re mise √† jour | AUTO |
| status | STRING | Statut (Brouillon/Publi√©/Archiv√©) | DEFAULT: 'Brouillon' |
| views | NUMBER | Nombre de vues | DEFAULT: 0 |
| likes | NUMBER | Nombre de likes | DEFAULT: 0 |
| featured | BOOLEAN | Article en vedette | DEFAULT: false |
| seoTitle | STRING | Titre SEO | |
| seoDescription | TEXT | Description SEO | |
| seoKeywords | ARRAY[STRING] | Mots-cl√©s SEO | |

### Table: `comments`
Commentaires sur les articles

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| articleId | STRING | ID de l'article | FOREIGN KEY -> articles.id |
| author | STRING | Nom de l'auteur | REQUIRED |
| email | STRING | Email de l'auteur | REQUIRED |
| content | TEXT | Contenu du commentaire | REQUIRED |
| approved | BOOLEAN | Approuv√© | DEFAULT: false |
| createdAt | TIMESTAMP | Date de cr√©ation | AUTO |

### Table: `news_items`
Actualit√©s de la page d'accueil

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| title | STRING | Titre | REQUIRED |
| description | TEXT | Description | REQUIRED |
| image | STRING | URL de l'image | |
| link | STRING | Lien externe | |
| date | DATE | Date de l'actualit√© | REQUIRED |
| status | STRING | Statut (Active/Inactive) | DEFAULT: 'Active' |
| createdAt | TIMESTAMP | Date de cr√©ation | AUTO |

### Table: `fashion_day_events`
√âv√©nements Perfect Fashion Day

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| edition | STRING | √âdition (ex: "PFD 2024") | REQUIRED |
| title | STRING | Titre | REQUIRED |
| description | TEXT | Description | REQUIRED |
| date | DATE | Date de l'√©v√©nement | REQUIRED |
| location | STRING | Lieu | REQUIRED |
| poster | STRING | URL de l'affiche | |
| registrationOpen | BOOLEAN | Inscriptions ouvertes | DEFAULT: false |
| maxParticipants | NUMBER | Nombre max de participants | |
| currentParticipants | NUMBER | Participants actuels | DEFAULT: 0 |
| status | STRING | Statut (√Ä venir/En cours/Termin√©) | DEFAULT: '√Ä venir' |

### Table: `fashion_day_applications`
Candidatures pour le Fashion Day

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| eventId | STRING | ID de l'√©v√©nement | FOREIGN KEY -> fashion_day_events.id |
| name | STRING | Nom complet | REQUIRED |
| email | STRING | Email | REQUIRED |
| phone | STRING | T√©l√©phone | REQUIRED |
| role | STRING | R√¥le (Mannequin/Staff/B√©n√©vole) | REQUIRED |
| motivation | TEXT | Lettre de motivation | |
| status | STRING | Statut (Nouveau/Accept√©/Refus√©) | DEFAULT: 'Nouveau' |
| submittedAt | TIMESTAMP | Date de soumission | AUTO |

---

## üéì Module Formation (Classroom)

### Table: `course_modules`
Modules de formation professionnelle

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| slug | STRING | Slug pour URL | REQUIRED, UNIQUE |
| title | STRING | Titre du module | REQUIRED |
| description | TEXT | Description | |
| order | NUMBER | Ordre d'affichage | REQUIRED |
| duration | STRING | Dur√©e estim√©e | |
| level | STRING | Niveau (D√©butant/Interm√©diaire/Avanc√©) | |
| icon | STRING | Ic√¥ne/emoji | |
| isPublished | BOOLEAN | Publi√© | DEFAULT: false |

### Table: `course_chapters`
Chapitres des modules

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| moduleId | STRING | ID du module parent | FOREIGN KEY -> course_modules.id |
| slug | STRING | Slug pour URL | REQUIRED |
| title | STRING | Titre du chapitre | REQUIRED |
| content | TEXT | Contenu (HTML/Markdown) | REQUIRED |
| videoUrl | STRING | URL de la vid√©o | |
| order | NUMBER | Ordre dans le module | REQUIRED |
| duration | STRING | Dur√©e estim√©e | |
| resources | ARRAY[OBJECT] | Ressources t√©l√©chargeables | |
| quiz | ARRAY[OBJECT] | Questions du quiz | |

### Table: `classroom_progress`
Progression des √©tudiants

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| userId | STRING | ID de l'utilisateur | FOREIGN KEY -> models.id |
| moduleId | STRING | ID du module | FOREIGN KEY -> course_modules.id |
| chapterId | STRING | ID du chapitre | FOREIGN KEY -> course_chapters.id |
| completed | BOOLEAN | Compl√©t√© | DEFAULT: false |
| score | NUMBER | Score du quiz (%) | |
| completedAt | TIMESTAMP | Date de compl√©tion | |
| timeSpent | NUMBER | Temps pass√© (minutes) | |

---

## üí∞ Module Finances

### Table: `monthly_payments`
Paiements mensuels des mannequins

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| modelId | STRING | ID du mannequin | FOREIGN KEY -> models.id |
| modelName | STRING | Nom du mannequin | REQUIRED |
| amount | NUMBER | Montant (XAF) | REQUIRED |
| date | DATE | Date du paiement | REQUIRED |
| month | STRING | Mois concern√© | REQUIRED |
| year | NUMBER | Ann√©e | REQUIRED |
| status | STRING | Statut (En attente/Approuv√©/Rejet√©) | DEFAULT: 'En attente' |
| paymentMethod | STRING | M√©thode (Esp√®ces/Virement/Mobile Money) | |
| reference | STRING | R√©f√©rence du paiement | |
| notes | TEXT | Notes | |
| submittedAt | TIMESTAMP | Date de soumission | AUTO |
| approvedAt | TIMESTAMP | Date d'approbation | |
| approvedBy | STRING | Approuv√© par | |

### Table: `invoices`
Factures clients

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| invoiceNumber | STRING | Num√©ro de facture | REQUIRED, UNIQUE |
| clientName | STRING | Nom du client | REQUIRED |
| clientEmail | STRING | Email du client | |
| clientPhone | STRING | T√©l√©phone du client | |
| clientAddress | TEXT | Adresse du client | |
| amount | NUMBER | Montant total (XAF) | REQUIRED |
| taxAmount | NUMBER | Montant TVA (XAF) | DEFAULT: 0 |
| date | DATE | Date d'√©mission | REQUIRED |
| dueDate | DATE | Date d'√©ch√©ance | REQUIRED |
| status | STRING | Statut (Impay√©e/Pay√©e/En retard/Annul√©e) | DEFAULT: 'Impay√©e' |
| paidAt | TIMESTAMP | Date de paiement | |
| items | ARRAY[OBJECT] | Lignes de facturation | REQUIRED |
| notes | TEXT | Notes | |
| createdAt | TIMESTAMP | Date de cr√©ation | AUTO |

**Structure des items (lignes de facturation):**
```json
{
  "description": "Description du service",
  "quantity": 1,
  "unitPrice": 50000,
  "total": 50000
}
```

### Table: `expenses`
D√©penses de l'agence

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| category | STRING | Cat√©gorie | REQUIRED |
| description | TEXT | Description | REQUIRED |
| amount | NUMBER | Montant (XAF) | REQUIRED |
| date | DATE | Date de la d√©pense | REQUIRED |
| paymentMethod | STRING | M√©thode (Esp√®ces/Carte/Virement/Mobile Money) | REQUIRED |
| status | STRING | Statut (Pay√©e/En attente/Rembours√©e) | DEFAULT: 'Pay√©e' |
| receipt | STRING | URL du re√ßu/facture | |
| supplier | STRING | Fournisseur | |
| notes | TEXT | Notes | |
| createdAt | TIMESTAMP | Date de cr√©ation | AUTO |
| createdBy | STRING | Cr√©√© par | |

**Cat√©gories de d√©penses:**
- Loyer et Charges
- Salaires
- Transport
- Mat√©riel
- Marketing
- Formation
- √âv√©nements
- Maintenance
- Fournitures
- Services Professionnels
- Assurances
- Taxes
- Autres

---

## üìû Module Communication

### Table: `contact_messages`
Messages du formulaire de contact

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| name | STRING | Nom | REQUIRED |
| email | STRING | Email | REQUIRED |
| phone | STRING | T√©l√©phone | |
| subject | STRING | Sujet | REQUIRED |
| message | TEXT | Message | REQUIRED |
| status | STRING | Statut (Nouveau/Lu/Archiv√©/R√©pondu) | DEFAULT: 'Nouveau' |
| createdAt | TIMESTAMP | Date de r√©ception | AUTO |
| readAt | TIMESTAMP | Date de lecture | |
| respondedAt | TIMESTAMP | Date de r√©ponse | |
| response | TEXT | R√©ponse | |

### Table: `booking_requests`
Demandes de r√©servation

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| name | STRING | Nom du client | REQUIRED |
| email | STRING | Email | REQUIRED |
| phone | STRING | T√©l√©phone | REQUIRED |
| service | STRING | Service demand√© | REQUIRED |
| preferredDate | DATE | Date souhait√©e | REQUIRED |
| message | TEXT | Message/D√©tails | |
| status | STRING | Statut (Nouveau/Confirm√©/Annul√©/Termin√©) | DEFAULT: 'Nouveau' |
| submittedAt | TIMESTAMP | Date de soumission | AUTO |
| confirmedAt | TIMESTAMP | Date de confirmation | |

### Table: `absence_requests`
Demandes d'absence des mannequins

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| modelId | STRING | ID du mannequin | FOREIGN KEY -> models.id |
| modelName | STRING | Nom du mannequin | REQUIRED |
| email | STRING | Email | REQUIRED |
| absenceDate | DATE | Date d'absence | REQUIRED |
| reason | STRING | Raison | REQUIRED |
| description | TEXT | Description d√©taill√©e | |
| status | STRING | Statut (En attente/Approuv√©/Refus√©) | DEFAULT: 'En attente' |
| submittedAt | TIMESTAMP | Date de soumission | AUTO |
| processedAt | TIMESTAMP | Date de traitement | |
| processedBy | STRING | Trait√© par | |

### Table: `recovery_requests`
Demandes de r√©cup√©ration de compte

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| email | STRING | Email | REQUIRED |
| accountType | STRING | Type de compte | REQUIRED |
| message | TEXT | Message | |
| status | STRING | Statut (Nouveau/Trait√©) | DEFAULT: 'Nouveau' |
| requestedAt | TIMESTAMP | Date de demande | AUTO |
| processedAt | TIMESTAMP | Date de traitement | |

---

## ‚öôÔ∏è Module Configuration

### Table: `settings`
Param√®tres du site

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| siteName | STRING | Nom du site | |
| siteDescription | TEXT | Description | |
| contactEmail | STRING | Email de contact | |
| contactPhone | STRING | T√©l√©phone de contact | |
| address | TEXT | Adresse physique | |
| facebook | STRING | URL Facebook | |
| instagram | STRING | URL Instagram | |
| twitter | STRING | URL Twitter | |
| linkedin | STRING | URL LinkedIn | |
| youtube | STRING | URL YouTube | |
| apiKey | STRING | Cl√© API (crypt√©e) | |
| analyticsId | STRING | ID Google Analytics | |
| maintenanceMode | BOOLEAN | Mode maintenance | DEFAULT: false |
| updatedAt | TIMESTAMP | Derni√®re mise √† jour | AUTO |

### Table: `agency_info`
Informations sur l'agence

| Champ | Type | Description | Contraintes |
|-------|------|-------------|-------------|
| id | STRING | Identifiant unique | PRIMARY KEY |
| mission | TEXT | Mission | |
| vision | TEXT | Vision | |
| values | ARRAY[STRING] | Valeurs | |
| history | TEXT | Historique | |
| timeline | ARRAY[OBJECT] | Chronologie | |
| partners | ARRAY[OBJECT] | Partenaires | |
| services | ARRAY[OBJECT] | Services offerts | |
| siteImages | OBJECT | Images du site (logo, hero, etc.) | |
| updatedAt | TIMESTAMP | Derni√®re mise √† jour | AUTO |

---

## üìä Relations et Index

### Relations Principales

1. **models** ‚Üî **monthly_payments**: Un mannequin a plusieurs paiements
2. **models** ‚Üî **absence_requests**: Un mannequin a plusieurs demandes d'absence
3. **models** ‚Üî **classroom_progress**: Un mannequin a plusieurs progressions
4. **articles** ‚Üî **comments**: Un article a plusieurs commentaires
5. **course_modules** ‚Üî **course_chapters**: Un module a plusieurs chapitres
6. **fashion_day_events** ‚Üî **fashion_day_applications**: Un √©v√©nement a plusieurs candidatures

### Index Recommand√©s

Pour optimiser les performances, cr√©ez des index sur:

- `models.email`, `models.username`
- `articles.slug`, `articles.publishedAt`, `articles.category`
- `casting_applications.status`, `casting_applications.submissionDate`
- `monthly_payments.modelId`, `monthly_payments.date`, `monthly_payments.status`
- `invoices.invoiceNumber`, `invoices.status`, `invoices.date`
- `expenses.category`, `expenses.date`
- `contact_messages.status`, `contact_messages.createdAt`
- `course_modules.slug`, `course_chapters.moduleId`

---

## üîê S√©curit√©

### Champs Sensibles √† Crypter
- `models.password`
- `beginner_students.password`
- `settings.apiKey`
- Toutes les informations de paiement

### R√®gles d'Acc√®s
- **Admin**: Acc√®s complet √† toutes les tables
- **Models**: Acc√®s en lecture/√©criture limit√© √† leurs propres donn√©es
- **Beginner Students**: Acc√®s en lecture/√©criture limit√© √† leurs propres donn√©es et au contenu de formation
- **Jury**: Acc√®s en lecture/√©criture aux candidatures de casting uniquement
- **Registration Staff**: Acc√®s en lecture/√©criture aux candidatures de casting uniquement
- **Public**: Acc√®s en lecture seule aux articles, mannequins publics, et √©v√©nements

---

## üìù Notes d'Impl√©mentation

### Firebase Realtime Database
Pour Firebase, organisez la structure ainsi:
```
/
‚îú‚îÄ‚îÄ models/
‚îú‚îÄ‚îÄ beginnerStudents/
‚îú‚îÄ‚îÄ articles/
‚îú‚îÄ‚îÄ comments/
‚îú‚îÄ‚îÄ monthlyPayments/
‚îú‚îÄ‚îÄ invoices/
‚îú‚îÄ‚îÄ expenses/
‚îú‚îÄ‚îÄ castingApplications/
‚îú‚îÄ‚îÄ fashionDayEvents/
‚îú‚îÄ‚îÄ fashionDayApplications/
‚îú‚îÄ‚îÄ courseModules/
‚îú‚îÄ‚îÄ courseChapters/
‚îú‚îÄ‚îÄ classroomProgress/
‚îú‚îÄ‚îÄ contactMessages/
‚îú‚îÄ‚îÄ bookingRequests/
‚îú‚îÄ‚îÄ absenceRequests/
‚îú‚îÄ‚îÄ recoveryRequests/
‚îú‚îÄ‚îÄ newsItems/
‚îú‚îÄ‚îÄ artisticProjects/
‚îú‚îÄ‚îÄ settings/
‚îî‚îÄ‚îÄ agencyInfo/
```

### Donn√©es Initiales Recommand√©es
- Au moins 3 cat√©gories de services
- Un module de formation de base
- Param√®tres par d√©faut du site
- Informations de base de l'agence

---

**Version**: 1.0  
**Derni√®re mise √† jour**: 2025  
**Auteur**: Perfect Models Management - Syst√®me de Gestion Complet

